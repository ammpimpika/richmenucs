<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏≠‡∏≤‡∏ä‡∏µ‡∏û - ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-800 min-h-screen">
  <div class="max-w-6xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
    <h1 class="text-2xl md:text-3xl font-bold text-center mb-4 text-white">‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏≠‡∏≤‡∏ä‡∏µ‡∏û<br>‡∏™‡∏≤‡∏Ç‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</h1>
    <p class="text-center text-gray-300 text-sm md:text-base mb-6">‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (‡∏õ‡∏µ 2567)</p>
    <div id="careerList"></div>
  </div>
  <script>
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
    function formatSalaryDisplay(salary) {
      if (!salary) return '-';
      
      // ‡πÅ‡∏¢‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏á‡∏Ç‡∏µ‡∏î (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
      const parts = salary.toString().split(' - ');
      let formattedParts = [];
      
      parts.forEach(part => {
        // ‡∏•‡∏ö‡∏à‡∏∏‡∏•‡∏†‡∏≤‡∏Ñ‡πÄ‡∏î‡∏¥‡∏°‡∏≠‡∏≠‡∏Å
        part = part.replace(/,/g, '');
        
        // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏∏‡∏•‡∏†‡∏≤‡∏Ñ‡πÉ‡∏´‡∏°‡πà
        if (part.length > 0) {
          part = part.replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }
        
        formattedParts.push(part);
      });
      
      return formattedParts.join(' - ');
    }

    fetch('api/careers.php')
      .then(res => res.json())
      .then(data => {
        if (!data.length) {
          document.getElementById('careerList').innerHTML = '<div class="text-center text-gray-500">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</div>';
          return;
        }
        let html = '<div class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">';
        data.forEach(item => {
          // ‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏à‡∏∏‡∏•‡∏†‡∏≤‡∏Ñ
          const formattedSalary = formatSalaryDisplay(item.starting_salary);
          const salaryDisplay = formattedSalary !== '-' ? formattedSalary + ' ‡∏ö‡∏≤‡∏ó' : '-';
          
          html += `
            <div class="bg-white border border-indigo-100 rounded-xl shadow-md p-5 flex flex-col justify-between min-h-[180px] hover:shadow-lg transition">
              <div>
                <div class="font-bold text-lg md:text-xl text-indigo-700 mb-2">${item.job_title || ''}</div>
                <div class="text-slate-700 mb-2"><span class="font-semibold">‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:</span> <span class="text-green-600 font-bold">${salaryDisplay}</span></div>
                <div class="text-slate-600 text-base md:text-sm lg:text-base whitespace-pre-line">${item.highlight || ''}</div>
              </div>
            </div>
          `;
        });
        html += '</div>';
        document.getElementById('careerList').innerHTML = html;
      })
      .catch(err => {
        console.error('Error loading careers:', err);
        document.getElementById('careerList').innerHTML = '<div class="text-center text-red-500">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</div>';
      });
  </script>

  <!-- Counter Section -->
  <div style="margin:20px 0; text-align:center; font-size:16px; color:#FFFFFF;">
    <span class="text-white">üëÅ ‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏° </span><span id="count" class="text-white">0</span><span class="text-white"> ‡∏Ñ‡∏ô</span>
  </div>
  <script>
    fetch("counter.php?page=career_path")
      .then(res => res.json())
      .then(data => document.getElementById("count").textContent = data.visits)
      .catch(err => console.error(err));
  </script>
</body>
</html>

