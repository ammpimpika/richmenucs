# Create this file as nginx.conf or nginx.template.conf in your project's root directory

server {
    listen ${PORT};
    listen [::]:${PORT};

    # Set the root directory for your application
    root /app/public; 

    # Add this line to serve static files from the uploads directory
    location /uploads/ {
        # This tells Nginx to look for files in the /app/public/uploads directory
        alias /app/public/uploads/; 
        # Optional: Set caching headers for better performance
        expires 30d; 
    }

    # This is the default location block for PHP files
    location ~ \.php$ {
        fastcgi_pass 127.0.0.1:9000;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }
}